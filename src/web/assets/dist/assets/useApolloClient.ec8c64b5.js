var m=Object.defineProperty,y=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var i=(e,t,a)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,u=(e,t)=>{for(var a in t||(t={}))k.call(t,a)&&i(e,a,t[a]);if(r)for(var a of r(t))w.call(t,a)&&i(e,a,t[a]);return e},d=(e,t)=>y(e,_(t));import{o as p,c as v,a as c,k as x,l as n,H as $,s as L,A as C,I as b,m as P}from"./vendor.6feb70cb.js";var B=(e,t)=>{const a=e.__vccOpts||e;for(const[s,f]of t)a[s]=f;return a};const N={},q={class:"flex items-center justify-center p-4 border-b border-solid border-gray-200"},F=c("svg",{class:"animate-spin mr-3 h-5 w-5 text-indigo-900",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),I=c("span",{class:"text-base"}," Loading data ... ",-1),R=[F,I];function z(e,t){return p(),v("div",q,R)}var M=B(N,[["render",z]]);const l=x("payrun",{state:()=>({queue:0,fetching:!1,logs:[]})});var h;const o=(h=window.api.cpUrl)!=null?h:"https://localhost:8003",S=e=>{const t=l();t.loadingFetched=!0,n({method:"get",url:`${o}/staff-management/pay-runs/fetch-pay-runs/${e}`}).then(()=>{t.loadingFetched=!1})},U=e=>{const t=l();t.loadingFetched=!0,n({method:"get",url:`${o}/staff-management/pay-runs/fetch-pay-run/${e}`}).then(()=>{t.loadingFetched=!1})},V=()=>{const e=l();n({method:"get",url:`${o}/staff-management/pay-runs/queue`}).then(t=>{var a;e.queue=((a=t==null?void 0:t.data)==null?void 0:a.total)?t.data.total:0})},j=e=>{const t=l();n({method:"get",url:`${o}/staff-management/pay-runs/get-logs/${e}`}).then(a=>{var s;t.logs=((s=a==null?void 0:a.data)==null?void 0:s.logs)?a.data.logs:[]})},A=async()=>{const e={value:null};return await n({method:"get",url:`${o}/staff-management/settings/get-gql-token`}).then(t=>{var a;e.value=((a=t==null?void 0:t.data)==null?void 0:a.token)?t.data.token:null}),e.value||null};var g;const E=(g=window.api.cpUrl)!=null?g:"https://localhost:8003",H=new $({uri:`${E}/api`,credentials:"include"}),O=L(async(e,{headers:t})=>{const a=await A();return{headers:d(u({},t),{authorization:`Bearer ${a}`})}}),Q=new C({cache:new b,link:P([O,H])});export{M as L,B as _,j as a,U as b,Q as d,S as f,V as g,l as u};
//# sourceMappingURL=useApolloClient.ec8c64b5.js.map
