var m=Object.defineProperty,y=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var i=(e,t,a)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,d=(e,t)=>{for(var a in t||(t={}))p.call(t,a)&&i(e,a,t[a]);if(r)for(var a of r(t))w.call(t,a)&&i(e,a,t[a]);return e},u=(e,t)=>y(e,_(t));import{o as k,e as $,f as o,l as v,m as c,H as x,s as L,A as C,I as b,n as P}from"./vendor.638d3191.js";var B=(e,t)=>{const a=e.__vccOpts||e;for(const[n,f]of t)a[n]=f;return a};const N={},F={class:"flex items-center justify-center p-4 border-b border-solid border-gray-200"},R=o("svg",{class:"animate-spin mr-3 h-5 w-5 text-indigo-900",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),z=o("span",{class:"text-base"}," Loading data ... ",-1),A=[R,z];function E(e,t){return k(),$("div",F,A)}var M=B(N,[["render",E]]);const l=v("payrun",{state:()=>({queue:0,fetching:!1,logs:[]})});var h;const s=(h=window.api.cpUrl)!=null?h:"https://localhost:8003",S=(e,t)=>{const a=l();a.loadingFetched=!0;const n=t?`${s}/staff-management/pay-runs/fetch-pay-runs/${e}/${t}`:`${s}/staff-management/pay-runs/fetch-pay-runs/${e}`;c({method:"get",url:n}).then(()=>{a.loadingFetched=!1})},U=e=>{const t=l();t.loadingFetched=!0,c({method:"get",url:`${s}/staff-management/pay-runs/fetch-pay-run/${e}`}).then(()=>{t.loadingFetched=!1})},V=e=>{const t=l();c({method:"get",url:`${s}/staff-management/pay-runs/get-logs/${e}`}).then(a=>{var n;t.logs=((n=a==null?void 0:a.data)==null?void 0:n.logs)?a.data.logs:[]})},H=async()=>{const e={value:null};return await c({method:"get",url:`${s}/staff-management/settings/get-gql-token`}).then(t=>{var a;e.value=((a=t==null?void 0:t.data)==null?void 0:a.token)?t.data.token:null}),e.value||null};var g;const I=(g=window.api.baseUrl)!=null?g:"https://localhost:8003/",O=new x({uri:`${I}api`,credentials:"include"}),T=L(async(e,{headers:t})=>{const a=await H();return{headers:u(d({},t),{authorization:`Bearer ${a}`})}}),j=new C({cache:new b,link:P([T,O])});export{M as L,B as _,U as a,j as d,S as f,V as g,l as u};
//# sourceMappingURL=useApolloClient.248cbc93.js.map
