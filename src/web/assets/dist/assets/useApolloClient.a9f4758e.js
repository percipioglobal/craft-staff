var m=Object.defineProperty,_=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var r=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var i=(a,t,e)=>t in a?m(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e,d=(a,t)=>{for(var e in t||(t={}))p.call(t,e)&&i(a,e,t[e]);if(r)for(var e of r(t))k.call(t,e)&&i(a,e,t[e]);return a},u=(a,t)=>_(a,y(t));import{o as w,c as v,a as s,k as x,l as o,H as $,s as L,A as C,I as b,m as P}from"./vendor.c43b4d0a.js";var B=(a,t)=>{const e=a.__vccOpts||a;for(const[n,f]of t)e[n]=f;return e};const N={},F={class:"flex items-center justify-center p-4 border-b border-solid border-gray-200"},I=s("svg",{class:"animate-spin mr-3 h-5 w-5 text-indigo-900",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),R=s("span",{class:"text-base"}," Loading data ... ",-1),z=[I,R];function A(a,t){return w(),v("div",F,z)}var M=B(N,[["render",A]]);const l=x("payrun",{state:()=>({queue:0,fetching:!1,logs:[]})});var h;const c=(h=window.api.cpUrl)!=null?h:"https://localhost:8003",S=a=>{const t=l();t.loadingFetched=!0,o({method:"get",url:`${c}/staff-management/pay-runs/fetch-pay-runs/${a}`}).then(()=>{t.loadingFetched=!1})},U=a=>{const t=l();t.loadingFetched=!0,o({method:"get",url:`${c}/staff-management/pay-runs/fetch-pay-run/${a}`}).then(()=>{t.loadingFetched=!1})},V=a=>{const t=l();o({method:"get",url:`${c}/staff-management/pay-runs/get-logs/${a}`}).then(e=>{var n;t.logs=((n=e==null?void 0:e.data)==null?void 0:n.logs)?e.data.logs:[]})},E=async()=>{const a={value:null};return await o({method:"get",url:`${c}/staff-management/settings/get-gql-token`}).then(t=>{var e;a.value=((e=t==null?void 0:t.data)==null?void 0:e.token)?t.data.token:null}),a.value||null};var g;const H=(g=window.api.baseUrl)!=null?g:"https://localhost:8003/",O=new $({uri:`${H}api`,credentials:"include"}),T=L(async(a,{headers:t})=>{const e=await E();return{headers:u(d({},t),{authorization:`Bearer ${e}`})}}),j=new C({cache:new b,link:P([T,O])});export{M as L,B as _,U as a,j as d,S as f,V as g,l as u};
//# sourceMappingURL=useApolloClient.a9f4758e.js.map
