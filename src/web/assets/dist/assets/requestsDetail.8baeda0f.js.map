{"version":3,"file":"requestsDetail.8baeda0f.js","sources":["../../../../../buildchain/src/vue/requests/RequestsDetail.vue","../../../../../buildchain/src/js/requests-detail.ts"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref } from 'vue'\nimport { useMutation } from '@vue/apollo-composable'\nimport { UPDATE_REQUEST } from '~/graphql/requests.ts'\n\nconst form = ref(null)\nconst { mutate, loading, onDone } = useMutation(UPDATE_REQUEST)\n\nonDone( queryResult => {\n    window.location.reload(false)\n})\n\nconst preventSubmit = evt => {\n    evt.preventDefault()\n}\n\nconst handleSubmit = (evt, status) => {\n    evt.preventDefault()\n\n    const formValues = new FormData(form.value)\n\n    if(!loading.value) {\n        mutate({\n            id: parseInt(window.request.request.id),\n            adminId: parseInt(window.request.admin),\n            status: status,\n            note: formValues.get('note')\n        })\n    }\n}\n\n</script>\n\n<template>\n    <span class=\"text-xs font-bold text-gray-400 block mb-2\">Note</span>\n    <form @submit=\"preventSubmit\" ref=\"form\">\n        <textarea class=\"block w-full bg-gray-50 p-4 rounded-lg border border-solid border-gray-200 box-border mb-6\" name=\"note\" placeholder=\"Type a not as additional information when approving or declining\"></textarea>\n\n        <div class=\"col-span-4 text-right\">\n            <button v-if=\"!loading\" @click=\"(evt) => handleSubmit(evt, 'declined')\" class=\"cursor-pointer inline-block bg-red-300 text-red-900 font-bold mr-2 py-2 px-3 text-sm rounded-lg cursor-pointer\">Decline</button>\n            <button v-if=\"!loading\" @click=\"(evt) => handleSubmit(evt, 'approved')\" class=\"cursor-pointer inline-block bg-emerald-300 text-emerald-900 font-bold mr-2 py-2 px-3 text-sm rounded-lg cursor-pointer\">Approve</button>\n            <svg v-if=\"loading\" class=\"mb-0 animate-spin ml-1 h-5 w-5 text-gray-500 mb-0\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"><circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle><path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path></svg>\n        </div>\n    </form>\n</template>","import RequestsDetail from '~/vue/requests/RequestsDetail.vue'\nimport { createApp, h, provide } from 'vue'\nimport { DefaultApolloClient } from '@vue/apollo-composable'\nimport { defaultClient } from '~/js/composables/useApolloClient'\n\nconst requestsDetail = async () => {\n    const requestDetail = createApp({\n        setup() {\n            provide(DefaultApolloClient, defaultClient)\n        },\n        render: () => h(RequestsDetail)\n    })\n    const root = requestDetail.mount('#request-container')\n\n    return root\n}\n\nrequestsDetail().then( () => {\n    console.log()\n})"],"names":["RequestsDetail"],"mappings":"m+BAKM,GAAO,EAAI,MACX,CAAE,SAAQ,UAAS,UAAW,EAAY,KAExC,GAAe,QACZ,SAAS,OAAO,WAGrB,GAAgB,GAAO,GACrB,kBAGF,EAAe,CAAC,EAAK,IAAW,GAC9B,sBAEE,GAAa,GAAI,UAAS,EAAK,OAEjC,EAAQ,SACD,CACH,GAAI,SAAS,OAAO,QAAQ,QAAQ,IACpC,QAAS,SAAS,OAAO,QAAQ,OACjC,SACA,KAAM,EAAW,IAAI,8jBCrB3B,EAAiB,SAON,AANS,EAAU,CAC5B,OAAQ,GACI,EAAqB,IAEjC,OAAQ,IAAM,EAAEA,KAEO,MAAM,sBAKrC,IAAiB,KAAM,IAAM,SACjB"}